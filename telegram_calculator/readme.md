# Инженерный калькулятор для Telegram Mini App

Это полнофункциональное веб-приложение (Mini App) в виде инженерного калькулятора, интегрированное в Telegram. Проект демонстрирует создание кроссплатформенного приложения с использованием Python для серверной части и Vue.js для клиентской.

- **Backend**: Python 3.10+, Aiogram 3, Aiohttp
- **Frontend**: Vue.js 3, Vite

## Требования

Перед началом работы убедитесь, что на вашей системе установлены:

- **Python** (версии 3.10 или выше)
- **Node.js** (рекомендуется последняя LTS-версия) и **npm**
- **Git** для клонирования репозитория

## Установка и настройка

### 1. Клонирование репозитория

```bash
git clone https://your-repository-url/telegram_calculator.git
cd telegram_calculator
```

### 2. Настройка Backend (Python)

Серверная часть отвечает за работу Telegram-бота и раздачу файлов веб-приложения.

```bash
# Перейдите в директорию backend
cd backend

# Создайте виртуальное окружение
python -m venv venv

# Активируйте виртуальное окружение
# Windows (PowerShell/CMD):
venv\Scripts\activate
# macOS / Linux:
source venv/bin/activate

# Установите зависимости
pip install -r ../requirements.txt

# Вернитесь в корневую директорию
cd ..
```

### 3. Настройка Frontend (Vue.js)

Клиентская часть — это сам интерфейс калькулятора на Vue.js.

```bash
# Перейдите в директорию frontend
cd frontend

# Установите зависимости
npm install

# Вернитесь в корневую директорию
cd ..
```

### 4. Конфигурация

Вам понадобится токен для Telegram-бота. Если у вас его нет, получите его у [@BotFather](https://t.me/BotFather).

1.  В директории `backend/` создайте файл с именем `.env`.
2.  Откройте его и добавьте свой токен в следующем формате:

    ```
    BOT_TOKEN="1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789"
    ```

## ▶Запуск приложения

Для запуска вам понадобится **3 отдельных окна терминала**. Выполняйте шаги строго в указанной последовательности.

### Терминал 1 — Сборка Frontend

Сначала необходимо скомпилировать Vue-приложение в статические HTML, JS и CSS файлы.

```bash
# Перейдите в директорию frontend
cd frontend

# Запустите сборку
npm run build
```
После успешного выполнения в папке `frontend` появится директория `dist`. **Не закрывайте этот терминал.**

### Терминал 2 — Запуск Backend

Теперь запустим наш Python-сервер, который будет работать на `http://localhost:8000`.

```bash
# Убедитесь, что вы в корневой директории проекта

# Активируйте виртуальное окружение (если еще не активно)
# Windows:
backend\venv\Scripts\activate
# macOS / Linux:
source backend/venv/bin/activate

# Запустите главный скрипт
python backend/main.py
```
Вы должны увидеть сообщения о запуске веб-сервера и бота. **Не закрывайте этот терминал, он должен работать постоянно.**

### Терминал 3 — Запуск туннеля

Telegram требует, чтобы Mini Apps работали по HTTPS. Мы используем `localtunnel` для создания публичного HTTPS-адреса для нашего локального сервера.

```bash
# В этом новом терминале выполните:
npx localtunnel --port 8000
```
В консоли появится строка вида `your url is: https://some-random-name.loca.lt`. **Скопируйте этот HTTPS URL.** **Не закрывайте этот терминал.**

### Финальный шаг — Обновление конфигурации

1.  Откройте файл `backend/app/config.py` в вашем редакторе кода.
2.  Вставьте скопированный HTTPS URL в переменную `WEB_APP_URL`:
    ```python
    WEB_APP_URL = "https://some-random-name.loca.lt"
    ```
3.  Сохраните файл.
4.  **Очень важно:** Вернитесь в **Терминал 2** (где запущен backend), остановите его (`Ctrl + C`) и запустите снова той же командой:
    ```bash
    python backend/main.py
    ```
Теперь ваш бот запущен с правильным URL для Mini App.

## Использование

1.  Откройте Telegram и найдите вашего бота.
2.  Отправьте ему команду `/start`.
3.  Нажмите на кнопку "Открыть калькулятор".
4.  Наслаждайтесь!